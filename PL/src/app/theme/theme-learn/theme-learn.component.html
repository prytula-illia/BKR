<div class="container p-3">
    <div class="container  p-5" style="width: 50vw;">
        <div class="container mb-5">
            <div class="form-group mt-3">
                <h4 class="monceratFont" style="font-size: 36px">{{material.title}}</h4>
            </div>
            <div class="form-group mt-5">
                <pre class="p-3 robotoFont" style="font-size: 18px; white-space:pre-wrap;">{{material.content}}</pre>
            </div>
        </div>
        <div class="row justify-content-between">
            <button type="button" class="btn btn-sm btn-block mybutton mx-2 col-2" (click)="getPrevMaterial()">Previous material</button>
            <button type="button" class="btn btn-sm btn-block mybutton mx-2 col-2" (click)="getNextMaterial()">Next material</button>
        </div>
        <div class="container mt-5">
            <h4 class="monceratFont">Comments:</h4>
            <div class="form-group col">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search comments by content" #searchField>
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-block mybutton" 
                        style="border-top-left-radius: 0%; border-bottom-left-radius: 0%; width: 100px !important; height: auto;" 
                        (click)="searchComments(searchField.value)">Search</button>
                    </span>
                </div>
            </div>
            <div *ngFor="let comment of material.comments">
                <div class="themeHolder my-3 p-4">
                    <h6 class="monceratFont mt-3">{{comment.userName}}</h6>
                    <p class="my-5">{{comment.content}}</p>
                    <div class="row justify-content-between">
                        <div class="col-4">
                            <button class="mx-1 btn btn-block" (click)="likeComment(comment)">👍🏻<br>{{calculateLikes(comment)}}</button>
                            <button class="mx-1 btn btn-block" (click)="dislikeComment(comment)">👎🏻<br>{{calculateDislikes(comment)}}</button>
                        </div>
                        <p class="col-4 mt-4" style="font-size:14px">{{getBeautifulDate(comment.dateTime)}}</p>
                    </div>
                </div>
            </div>
            <div class="form-group mt-3">
                <label class="py-4 monceratFont" style="font-size: 16px; font-weight:500">Add your comment: </label>
                <textarea class="form-control themeHolder" style="min-height: 150px; border-radius: 5px;" name="comment" #comment></textarea>
            </div>
            <div class="float-end mt-4">
                <button type="button" class="btn btn-sm btn-block mb-3 mybutton" (click)="addComment({
                    id: 0,
                    userName: getUserName(),
                    content: comment.value,
                    dateTime: getCurrentDate(),
                    commentRatings: []
                })">Add comment</button>
            </div>
        </div>
    </div>
</div>

